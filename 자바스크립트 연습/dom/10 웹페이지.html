<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/xeicon@2.3.3/xeicon.min.css">
    <style>
        #wrap { width: 100%; min-width: 1600px; }
        .inner { width: 1400px; margin: auto; position: relative; box-sizing: border-box; }
        #header { width: 100%; }
        #header .inner { height: 150px; }
        #header h1 { position: absolute; left: 0; top: 50px;  }
        #header .nav { position: absolute; right: 0; top: 65px;}
        #header .gnb { display: flex; }
        #header .gnb li { margin-left: 70px;  }
        #header .gnb li a { font-size: 18px; }
        .con-box { width: 100%; }
        .con-box .inner { height: 1080px; padding: 100px 0;}
        .con-box h2 { font-size: 40px; text-align: center; }
        .con0 { background:#B2EBF2; }
        .con1 { background:#B3E5FC; }
        .con2 { background: #F0F4C3; }
        .con3 { background: #C8E6C9; }
        .con4 { background: #FFCC80;  padding-bottom: 200px;}

        #menu { position: fixed; right: 20px; top: 50%; transform: translateY(-50%);}
        #menu ul li { width: 20px; height: 20px; cursor: pointer; background: orange; border-radius: 50%; margin-bottom: 10px;}
        #menu ul li.on { background: red;}

        .top { position: fixed; left: 90%; bottom: 0; width: 60px; height: 60px; background: #000; text-align: center; opacity: 0;}
        .top i { line-height: 60px; color:#fff; font-size: 30px;}

    </style>
</head>
<body>
    <!-- div#wrap>header#header>h1>a[href="#"]>img^^^main#container>section#content>div.con-box.con$>div.inner>h2{타이틀$} -->
    <div id="wrap">
        <header id="header">
            <div class="inner">
                <h1><a href="#"><img src="https://via.placeholder.com/100x50" alt=""></a></h1>
                <nav class="nav">
                    <ul class="gnb">
                        <li><a href="#">MainMenu1</a></li>
                        <li><a href="#">MainMenu2</a></li>
                        <li><a href="#">MainMenu3</a></li>
                        <li><a href="#">MainMenu4</a></li>
                        <li><a href="#">MainMenu5</a></li>
                    </ul>
                </nav>
            </div>
        </header>
        <main id="container">
            <section id="content">
                <div class="con-box con0">
                    <div class="inner">
                        <h2>타이틀0</h2>
                    </div>
                </div>
                <!--  -->
                <div class="con-box con1">
                    <div class="inner">
                        <h2>타이틀1</h2>
                    </div>
                </div>
                <!--  -->
                <div class="con-box con2">
                    <div class="inner">
                        <h2>타이틀2</h2>
                    </div>
                </div>
                <!--  -->
                <div class="con-box con3">
                    <div class="inner">
                        <h2>타이틀3</h2>
                    </div>
                </div>
                <!--  -->
                <div class="con-box con4">
                    <div class="inner">
                        <h2>타이틀4</h2>
                    </div>
                </div>
                <!--  -->
            </section>
        </main>
    </div>

    <nav id="menu">
        <ul>
            <li class="on"></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
        </ul>
    </nav>

    <p class="top">
        <i class="xi-arrow-up"></i>
    </p>

    <script>
        let li = document.querySelectorAll('.gnb li');
        let con = document.querySelectorAll('.con-box');
        let menu = document.querySelectorAll('#menu ul li')

        let pTop = document.querySelector('p');
        let ty = 0;
        let old = 0;



        li.forEach((item, idx) => {
            item.addEventListener('click', e => {
                ty = con[idx].offsetTop
                window.scrollTo({top:ty, behavior: 'smooth'});
                menu[old].classList.remove('on');
                menu[idx].classList.add('on')
                old=idx;
            })
        })
        window.addEventListener('scroll', e => {
            let top = document.documentElement.scrollTop

            if(top >= 100){ pTop.style.opacity = 1; } 
            else { pTop.style.opacity = 0; }
            for(let i=0; i<menu.length; i++){ menu[i].classList.remove('on') }

            if(top < 1230) { menu[0].classList.add('on')} 
            else if ( top >= 1230 && top < 2310){ menu[1].classList.add('on') } 
            else if ( top >= 2310 && top < 3390){ menu[2].classList.add('on') }
            else if ( top >= 3390 && top < 4470){ menu[3].classList.add('on') }
            else if ( top >= 4470) { menu[4].classList.add('on') }
        })

        pTop.addEventListener('click', e => {
            ty = 0;
            window.scrollTo({top:ty, behavior: 'smooth'});
        }) 
    </script>
    <pre>
    </pre>
</body>
</html>